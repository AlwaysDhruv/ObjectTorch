#:import get_color_from_hex kivy.utils.get_color_from_hex

ScreenManager:
    MainScreen:
    Train_Page:
    Confirm_Page:

<MainScreen>:
    name: "main"
    FloatLayout:
        canvas.before:
            Color:
                rgba: get_color_from_hex("#4A4242")
            Rectangle:
                pos: self.pos
                size: self.size
        Label:
            id: label1
            text: "No Model Selected!!"
            font_size: 18
            color: 0, 0, 0, 1  # Black text
            size_hint: None, None
            size: 500, 30
            pos_hint: {"center_x": 0.5, "top": 0.95}
            canvas.before:
                Color:
                    rgba: get_color_from_hex("#827E7E")
                Rectangle:
                    pos: self.pos
                    size: self.size
        Label:
            id: label2
            text: "No Image Selected!!!!"
            font_size: 18
            color: 0, 0, 0, 1
            size_hint: None, None
            size: 300, 30
            pos_hint: {"center_x": 0.5, "top": 0.87}
            canvas.before:
                Color:
                    rgba: get_color_from_hex("#827E7E")
                Rectangle:
                    pos: self.pos
                    size: self.size
    
        # Bottom row buttons
        Button:
            size_hint: None, None
            size: 65, 65
            pos_hint: {"x": 0.05, "y": 0.05}
            background_normal: "assest/6.png"
            disabled: not app.buttons2_visible
            on_press: app.new_model_page()
    
        Button:
            size_hint: None, None
            size: 60, 60
            pos_hint: {"x": 0.25, "y": 0.05}
            background_normal: "assest/3.png"
            disabled: not app.buttons1_visible
            on_press: app.load_images()
    
        Button:
            id: B1
            size_hint: None, None
            size: 80, 80  # Larger central button
            pos_hint: {"center_x": 0.5, "y": 0.03}
            background_normal: "assest/2.png"
            disabled: not app.buttons1_visible
            on_press: app.click()
    
        Button:
            size_hint: None, None
            size: 60, 60
            pos_hint: {"x": 0.70, "y": 0.05}
            background_normal: "assest/4.png"
            disabled: not app.buttons1_visible
            on_press: app.trash()
    
        Button:
            size_hint: None, None
            size: 60, 60
            pos_hint: {"x": 0.90, "y": 0.05}
            background_normal: "assest/5.png"
            disabled: not app.buttons2_visible
            on_press: app.load_model()

<Train_Page>:
    name:"train_page"
    FloatLayout:
        canvas.before:
            Color:
                rgba: get_color_from_hex("#4A4242")
            Rectangle:
                pos: self.pos
                size: self.size
    TextInput:
        id: textbox1
        hint_text: "Name For It!!"
        size_hint: (0.2, 0.07)
        pos_hint: {"center_x": 0.4, "center_y": 0.6}

    TextInput:
        id: textbox2
        hint_text: "Times To Train Model!!"
        size_hint: (0.2, 0.07)
        pos_hint: {"center_x": 0.6, "center_y": 0.6}

    Button:
        size_hint: None, None
        size: 70, 70
        pos_hint: {"center_x": 0.4, "center_y": 0.1}
        background_normal: "assest/1.png"
        on_press: app.clear_textbox(); app.root.current = "main"
    Button:
        size_hint: None, None
        size: 70, 70
        pos_hint: {"center_x": 0.6, "center_y": 0.1}
        background_normal: "assest/8.png"
        on_press: app.root.current = "confirm_page"

<Confirm_Page>:
    name:"confirm_page"
    FloatLayout:
        canvas.before:
            Color:
                rgba: get_color_from_hex("#4A4242")
            Rectangle:
                pos: self.pos
                size: self.size
    Button:
        size_hint: None, None
        size: 70, 70
        pos_hint: {"center_x": 0.4, "center_y": 0.5}
        background_normal: "assest/1.png"
        on_press: app.clear_textbox(); app.root.current = "train_page"
    Button:
        size_hint: None, None
        size: 60, 60
        pos_hint: {"center_x": 0.6, "center_y": 0.5}
        background_normal: "assest/5.png"
        on_press: app.new_model()
    Button:
        id: b1
        text: "Save"
        size_hint: None, None
        size: 70, 70
        disabled: not app.buttons3_visible
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        on_press: app.save_model()                
